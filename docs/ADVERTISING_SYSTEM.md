# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∫–ª–∞–º–æ–π RexTube

## –û–±–∑–æ—Ä

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∫–ª–∞–º–æ–π –¥–ª—è –≤–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥–∞ RexTube, –≤–∫–ª—é—á–∞—é—â–∞—è:

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–¥–µ—Ä–∞—Ü–∏—è
- **–ú–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è** - –≥–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–∑–∏—Ü–∏–π —Ä–µ–∫–ª–∞–º—ã
- **–ö–∞–º–ø–∞–Ω–∏–∏** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Å –æ–±—â–∏–º –±—é–¥–∂–µ—Ç–æ–º
- **–¢–∞—Ä–≥–µ—Ç–∏–Ω–≥** - –≥–µ–æ, –≤—Ä–µ–º–µ–Ω–Ω–æ–π, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å–µ–≥–º–µ–Ω—Ç—ã
- **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–∫–∞–∑–æ–≤, –∫–ª–∏–∫–æ–≤, –∫–æ–Ω–≤–µ—Ä—Å–∏–π
- **VAST –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –≤–∏–¥–µ–æ—Ä–µ–∫–ª–∞–º–∞ –≤ –ø–ª–µ–µ—Ä–µ

## ‚úÖ –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ **6 Entity –∫–ª–∞—Å—Å–æ–≤** —Å –ø–æ–ª–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏
- ‚úÖ **6 Repository –∫–ª–∞—Å—Å–æ–≤** —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ **AdService** –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–∞
- ‚úÖ **AdExtension** –¥–ª—è Twig —Ñ—É–Ω–∫—Ü–∏–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ **AdminAdController** —Å –ø–æ–ª–Ω—ã–º CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- ‚úÖ **AdController** –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ **–ú–∞—Ä—à—Ä—É—Ç—ã** –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `config/routes/ads.yaml`
- ‚úÖ **–®–∞–±–ª–æ–Ω—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏** —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ **–®–∞–±–ª–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∫–ª–∞–º—ã** —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞**:
  - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (4 –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è)
  - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥–µ–ª–µ–π (3 –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è)
  - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (2 –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è)
  - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (2 –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è)
  - –°—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö (3 –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è)
  - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–∏–¥–µ–æ (6 –º–µ—Å—Ç —Ä–∞–∑–º–µ—â–µ–Ω–∏—è)
  - –§—É—Ç–µ—Ä (3 –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö)

### –ú–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:
- **23 –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è** —Å–æ–∑–¥–∞–Ω—ã –∏ –∞–∫—Ç–∏–≤–Ω—ã
- **–¢–µ—Å—Ç–æ–≤—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è** –¥–ª—è –≤—Å–µ—Ö –º–µ—Å—Ç —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** –ø–æ–∫–∞–∑–æ–≤ –∏ –∫–ª–∏–∫–æ–≤
- **–¢–∞—Ä–≥–µ—Ç–∏–Ω–≥** –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏

- **–§–æ—Ä–º–∞—Ç—ã**: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, HTML, –≤–∏–¥–µ–æ, VAST, JavaScript, —Ç–µ–∫—Å—Ç
- **–°—Ç–∞—Ç—É—Å—ã**: —á–µ—Ä–Ω–æ–≤–∏–∫, –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏, –∞–∫—Ç–∏–≤–Ω–∞, –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–∫–∞–∑–∞**: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –≤–µ—Å, –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è
- **–ë—é–¥–∂–µ—Ç –∏ —Å—Ç–∞–≤–∫–∏**: CPM, CPC, –ª–∏–º–∏—Ç—ã –ø–æ–∫–∞–∑–æ–≤ –∏ –∫–ª–∏–∫–æ–≤

### ÔøΩ –ú–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è

- **–¢–∏–ø—ã**: –±–∞–Ω–Ω–µ—Ä—ã, –≤–∏–¥–µ–æ, VAST, –Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞, —Ç–µ–∫—Å—Ç, popup
- **–ü–æ–∑–∏—Ü–∏–∏**: —à–∞–ø–∫–∞, —Å–∞–π–¥–±–∞—Ä, –∫–æ–Ω—Ç–µ–Ω—Ç, –ø–æ–¥–≤–∞–ª, –≤–∏–¥–µ–æ (preroll/midroll/postroll/overlay)
- **–†–∞–∑–º–µ—Ä—ã**: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —à–∏—Ä–∏–Ω–∞ –∏ –≤—ã—Å–æ—Ç–∞
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

### üé™ –ö–∞–º–ø–∞–Ω–∏–∏

- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π** —Å –æ–±—â–∏–º –±—é–¥–∂–µ—Ç–æ–º
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏** –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–∏
- **–î–Ω–µ–≤–Ω—ã–µ –∏ –æ–±—â–∏–µ –ª–∏–º–∏—Ç—ã** –±—é–¥–∂–µ—Ç–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç** —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–∞–º–ø–∞–Ω–∏–∏

### üéØ –¢–∞—Ä–≥–µ—Ç–∏–Ω–≥

- **–ì–µ–æ-—Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥**: –ø–æ —Å—Ç—Ä–∞–Ω–∞–º –∏ —Ä–µ–≥–∏–æ–Ω–∞–º
- **–í—Ä–µ–º–µ–Ω–Ω–æ–π**: –ø–æ —á–∞—Å–∞–º –∏ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**: desktop, mobile, tablet
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –≤–∏–¥–µ–æ
- **–°–µ–≥–º–µ–Ω—Ç—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏**: –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ, –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ, –∏–Ω—Ç–µ—Ä–µ—Å—ã

### üß™ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞** –º–µ–∂–¥—É –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (50/50, 70/30 –∏ —Ç.–¥.)
- **–ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è**: CTR, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –¥–æ—Ö–æ–¥
- **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

- **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**: –ø–æ–∫–∞–∑—ã, –∫–ª–∏–∫–∏, CTR, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑—ã/–∫–ª–∏–∫–∏** (–ø–æ IP/—Å–µ—Å—Å–∏–∏)
- **–ü–æ—á–∞—Å–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–ì–µ–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤**
- **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** –≤ CSV

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Entity –∫–ª–∞—Å—Å—ã

- `Ad` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- `AdPlacement` - –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Ä–µ–∫–ª–∞–º—ã
- `AdCampaign` - —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
- `AdStatistic` - –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `AdSegment` - —Å–µ–≥–º–µ–Ω—Ç—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- `AdAbTest` - A/B —Ç–µ—Å—Ç—ã

### –°–µ—Ä–≤–∏—Å—ã

- `AdService` - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- `AdExtension` - Twig —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

- `AdController` - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–ø–æ–∫–∞–∑, –∫–ª–∏–∫–∏, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ)
- `AdminAdController` - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º—ã –≤ —à–∞–±–ª–æ–Ω–∞—Ö

```twig
{# –ü–æ–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ #}
{{ show_ad('sidebar', {'page': 'videos', 'category_id': 1}) }}

{# –ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π #}
{{ show_ads('header', 3, {'page': 'home'}) }}

{# JavaScript –∑–∞–≥—Ä—É–∑–∫–∞ #}
{{ ad_script('sidebar', {'page': 'videos'}) }}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–ê–¥–º–∏–Ω ‚Üí Ads ‚Üí Placements**
2. –ù–∞–∂–∞—Ç—å **"–°–æ–∑–¥–∞—Ç—å –º–µ—Å—Ç–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
   - –ù–∞–∑–≤–∞–Ω–∏–µ –∏ slug
   - –¢–∏–ø –∏ –ø–æ–∑–∏—Ü–∏—é
   - –†–∞–∑–º–µ—Ä—ã (–¥–ª—è –±–∞–Ω–Ω–µ—Ä–æ–≤)
   - –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–ê–¥–º–∏–Ω ‚Üí Ads ‚Üí Ads**
2. –ù–∞–∂–∞—Ç—å **"–°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
4. –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥ –∏ –ª–∏–º–∏—Ç—ã
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–ø–∞–Ω–∏–∏

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–ê–¥–º–∏–Ω ‚Üí Ads ‚Üí Campaigns**
2. –°–æ–∑–¥–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é —Å –±—é–¥–∂–µ—Ç–æ–º –∏ –¥–∞—Ç–∞–º–∏
3. –ü—Ä–∏–≤—è–∑–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∫ –∫–∞–º–ø–∞–Ω–∏–∏
4. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞–º–ø–∞–Ω–∏–∏

## API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –§—Ä–æ–Ω—Ç–µ–Ω–¥

- `GET /ads/show/{placement}` - –ø–æ–∫–∞–∑ —Ä–µ–∫–ª–∞–º—ã
- `GET /ads/click/{id}` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞
- `POST /ads/impression/{id}` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞
- `POST /ads/conversion/{id}` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- `GET /ads/vast/{id}` - VAST XML –¥–ª—è –≤–∏–¥–µ–æ
- `GET /ads/js/{placement}` - JavaScript –∑–∞–≥—Ä—É–∑–∫–∞

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

- `/admin/ads` - –¥–∞—à–±–æ—Ä–¥ —Ä–µ–∫–ª–∞–º—ã
- `/admin/ads/list` - —Å–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- `/admin/ads/placements` - –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- `/admin/ads/campaigns` - –∫–∞–º–ø–∞–Ω–∏–∏
- `/admin/ads/segments` - —Å–µ–≥–º–µ–Ω—Ç—ã
- `/admin/ads/ab-tests` - A/B —Ç–µ—Å—Ç—ã
- `/admin/ads/statistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä–æ–º

### VAST —Ä–µ–∫–ª–∞–º–∞

```javascript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è VAST –ø–ª–µ–µ—Ä–∞
const vastUrl = '/ads/vast/123';
player.loadVastAd(vastUrl);

// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
player.on('adStart', () => {
    // –†–µ–∫–ª–∞–º–∞ –Ω–∞—á–∞–ª–∞—Å—å
});

player.on('adComplete', () => {
    // –†–µ–∫–ª–∞–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
});
```

### Overlay –±–∞–Ω–Ω–µ—Ä—ã

```javascript
// –ü–æ–∫–∞–∑ overlay –±–∞–Ω–Ω–µ—Ä–∞ –ø–æ–≤–µ—Ä—Ö –≤–∏–¥–µ–æ
const overlayAd = document.querySelector('[data-ad-placement="video_overlay"]');
if (overlayAd) {
    overlayAd.style.display = 'block';
    
    // –°–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        overlayAd.style.display = 'none';
    }, 10000);
}
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞

- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑—ã/–∫–ª–∏–∫–∏** –ø–æ IP –∏ —Å–µ—Å—Å–∏–∏
- **Rate limiting** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ø–∞–º–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **CSRF –∑–∞—â–∏—Ç–∞** –¥–ª—è –∞–¥–º–∏–Ω-–æ–ø–µ—Ä–∞—Ü–∏–π

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- **–ò–Ω–¥–µ–∫—Å—ã –ë–î** –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **CDN –ø–æ–¥–¥–µ—Ä–∂–∫–∞** –¥–ª—è –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- **–ê–ª–µ—Ä—Ç—ã** –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤
- **–ê—É–¥–∏—Ç** –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

1. –†–∞—Å—à–∏—Ä–∏—Ç—å enum –≤ `Ad::FORMAT_*`
2. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ `AdService`
3. –û–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
4. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ç—è–º–∏

```php
// –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Google AdSense
class GoogleAdSenseAdapter implements AdNetworkInterface
{
    public function getAd(AdPlacement $placement): ?ExternalAd
    {
        // –ó–∞–ø—Ä–æ—Å –∫ API Google AdSense
        return $this->adsenseClient->getAd($placement->getSlug());
    }
}
```

### –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–∞

```php
// –ü—Ä–∏–º–µ—Ä ML-—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è CTR
class AdTargetingMLService
{
    public function predictCtr(Ad $ad, User $user): float
    {
        // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ML –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è CTR
        return $this->model->predict([
            'user_age' => $user->getAge(),
            'user_interests' => $user->getInterests(),
            'ad_format' => $ad->getFormat(),
            'time_of_day' => date('H'),
        ]);
    }
}
```

## –ú–∏–≥—Ä–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
php bin/console doctrine:migrations:migrate

# –°–æ–∑–¥–∞—Ç—å –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
php bin/console app:add-site-ad-placements

# –°–æ–∑–¥–∞—Ç—å –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –¥–ª—è –≤–∏–¥–µ–æ
php bin/console app:add-video-ad-placements

# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
php bin/console doctrine:fixtures:load --group=AdFixtures --append

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
php bin/console cache:clear
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∫–ª–∞–º–æ–π
php bin/console app:create-permission ads.manage "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–æ–π"
php bin/console app:create-permission ads.view_stats "–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ–∫–ª–∞–º—ã"
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
php bin/console app:ads:check-active

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
php bin/console app:ads:generate-reports

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
php bin/console app:ads:cleanup-stats --days=90
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∫–ª–∞–º–æ–π RexTube –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ –≤–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥–∞:

‚úÖ **–ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –∏ –∫–∞–º–ø–∞–Ω–∏—è–º–∏  
‚úÖ **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥** –∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è  
‚úÖ **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏  
‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å  
‚úÖ **VAST –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è –≤–∏–¥–µ–æ—Ä–µ–∫–ª–∞–º—ã  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –Ω–∞ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞  
‚úÖ **23 –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è** –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** –ø–æ–∫–∞–∑–æ–≤ –∏ –∫–ª–∏–∫–æ–≤  

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞.
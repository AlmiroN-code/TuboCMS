<tr id="video-row-{{ video.id }}">
    <td class="px-4 py-4 whitespace-nowrap">
        <input type="checkbox" name="video_ids[]" value="{{ video.id }}" 
               class="video-checkbox w-4 h-4 text-blue-600 border-gray-300 rounded">
    </td>
    <td class="px-4 py-4 whitespace-nowrap text-sm">{{ video.id }}</td>
    <td class="px-4 py-4 whitespace-nowrap">
        {% if video.poster %}
            <img src="/media/{{ video.poster }}" alt="" class="w-20 h-12 object-cover rounded">
        {% else %}
            <div class="w-20 h-12 bg-gray-200 rounded"></div>
        {% endif %}
    </td>
    <td class="px-4 py-4">
        <div class="text-sm font-medium text-gray-900">
            <a href="{{ path('admin_videos_edit', {id: video.id}) }}">{{ video.title }}</a>
            {% if video.isFeatured %}
                <span class="ml-2 px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full">Featured</span>
            {% endif %}
        </div>
        <div class="text-sm text-gray-500">{{ video.durationFormatted }}</div>
    </td>
    <td class="px-4 py-4 whitespace-nowrap text-sm">
        {{ video.category ? video.category.name : '-' }}
    </td>
    <td class="px-4 py-4 whitespace-nowrap">
        {% include 'admin/videos/_status_badge.html.twig' with {video: video} %}
    </td>
    <td class="px-4 py-4 whitespace-nowrap">
        <div class="text-xs">
            <span class="px-2 py-1 rounded
                {% if video.processingStatus == 'completed' %}bg-green-100 text-green-800
                {% elseif video.processingStatus == 'processing' %}bg-blue-100 text-blue-800
                {% elseif video.processingStatus == 'error' %}bg-red-100 text-red-800
                {% else %}bg-gray-100 text-gray-800{% endif %}">
                {{ video.processingStatus }}
            </span>
        </div>
    </td>
    <td class="px-4 py-4 whitespace-nowrap text-sm">{{ video.viewsCount }}</td>
    <td class="px-4 py-4 whitespace-nowrap text-sm">{{ video.createdAt|date('d.m.Y') }}</td>
    <td class="px-4 py-4 whitespace-nowrap text-right text-sm">
        <div class="flex items-center justify-end gap-2">
            {% if video.status != 'published' %}
                <button hx-post="{{ path('admin_videos_moderate', {id: video.id, action: 'publish'}) }}"
                        hx-target="#video-row-{{ video.id }}"
                        hx-swap="outerHTML"
                        class="text-green-600 hover:text-green-800 text-xs px-2 py-1 bg-green-50 rounded">
                    Publish
                </button>
            {% endif %}
            {% if video.status == 'published' %}
                <button hx-post="{{ path('admin_videos_moderate', {id: video.id, action: 'unpublish'}) }}"
                        hx-target="#video-row-{{ video.id }}"
                        hx-swap="outerHTML"
                        class="text-yellow-600 hover:text-yellow-800 text-xs px-2 py-1 bg-yellow-50 rounded">
                    Unpublish
                </button>
            {% endif %}
            <a href="{{ path('admin_videos_edit', {id: video.id}) }}" 
               class="text-indigo-600 hover:text-indigo-900 text-xs px-2 py-1 bg-indigo-50 rounded">
                Edit
            </a>
            <button hx-delete="{{ path('admin_videos_delete_htmx', {id: video.id}) }}"
                    hx-target="#video-row-{{ video.id }}"
                    hx-swap="outerHTML"
                    hx-confirm="Delete video '{{ video.title }}'?"
                    class="text-red-600 hover:text-red-800 text-xs px-2 py-1 bg-red-50 rounded">
                Delete
            </button>
        </div>
    </td>
</tr>

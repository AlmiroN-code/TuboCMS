<form id="bulk-form" 
      method="post" 
      action="{{ path('admin_videos_bulk') }}"
      x-data="{
          selectedVideos: [],
          bulkAction: '',
          get selectedCount() { return this.selectedVideos.length },
          get showBulkActions() { return this.selectedCount > 0 },
          toggleAll(event) {
              if (event.target.checked) {
                  this.selectedVideos = Array.from(document.querySelectorAll('.video-checkbox')).map(cb => cb.value);
              } else {
                  this.selectedVideos = [];
              }
          },
          deselectAll() {
              this.selectedVideos = [];
          },
          async moderateVideo(videoId, action) {
              try {
                  const response = await fetch(`/admin/videos/${videoId}/moderate/${action}`, {
                      method: 'POST',
                      headers: {
                          'Content-Type': 'application/json',
                          'X-Requested-With': 'XMLHttpRequest'
                      }
                  });
                  if (response.ok) {
                      location.reload();
                  } else {
                      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–µ–æ');
                  }
              } catch (error) {
                  console.error('Error:', error);
                  alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞');
              }
          },
          async reprocessVideo(videoId) {
              try {
                  const response = await fetch(`/admin/videos/${videoId}/reprocess`, {
                      method: 'POST',
                      headers: {
                          'Content-Type': 'application/json',
                          'X-Requested-With': 'XMLHttpRequest'
                      }
                  });
                  if (response.ok) {
                      alert('–í–∏–¥–µ–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫—É');
                      location.reload();
                  } else {
                      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–∏–¥–µ–æ');
                  }
              } catch (error) {
                  console.error('Error:', error);
                  alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞');
              }
          },
          async deleteVideo(videoId, title) {
              if (!confirm(`–£–¥–∞–ª–∏—Ç—å –≤–∏–¥–µ–æ '${title}'?`)) return;
              
              try {
                  const response = await fetch(`/admin/videos/${videoId}`, {
                      method: 'DELETE',
                      headers: {
                          'Content-Type': 'application/json',
                          'X-Requested-With': 'XMLHttpRequest'
                      }
                  });
                  if (response.ok) {
                      document.getElementById(`video-row-${videoId}`).remove();
                  } else {
                      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≤–∏–¥–µ–æ');
                  }
              } catch (error) {
                  console.error('Error:', error);
                  alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞');
              }
          },
          validateSubmit(event) {
              if (!this.bulkAction) {
                  event.preventDefault();
                  alert('–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ');
                  return false;
              }
              if (this.selectedCount === 0) {
                  event.preventDefault();
                  alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –≤–∏–¥–µ–æ');
                  return false;
              }
              if (['add_category', 'remove_category', 'replace_categories'].includes(this.bulkAction)) {
                  const categoryId = document.querySelector('[name=category_id]').value;
                  if (!categoryId) {
                      event.preventDefault();
                      alert('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é');
                      return false;
                  }
              }
              if (['add_tags', 'remove_tags', 'replace_tags'].includes(this.bulkAction)) {
                  const tagNames = document.querySelector('[name=tag_names]').value.trim();
                  if (!tagNames) {
                      event.preventDefault();
                      alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–≥–∏');
                      return false;
                  }
              }
              if (this.bulkAction === 'delete') {
                  return confirm('–£–¥–∞–ª–∏—Ç—å ' + this.selectedCount + ' –≤–∏–¥–µ–æ? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.');
              }
              return true;
          }
      }"
      @submit="validateSubmit($event)">
    <input type="hidden" name="_token" value="{{ csrf_token('bulk_videos') }}">
    
    {# –ü–∞–Ω–µ–ª—å –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π #}
    <div x-show="showBulkActions" 
         x-transition
         class="bg-blue-50 border-b border-blue-200 px-6 py-3">
        <div class="flex items-center gap-4 flex-wrap">
            <span class="text-sm text-blue-800">
                –í—ã–±—Ä–∞–Ω–æ: <span x-text="selectedCount">0</span>
            </span>
            
            <select name="bulk_action" 
                    x-model="bulkAction"
                    class="px-3 py-1.5 text-sm border border-blue-300 rounded bg-white">
                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ --</option>
                <optgroup label="–°—Ç–∞—Ç—É—Å">
                    <option value="publish">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</option>
                    <option value="unpublish">–°–Ω—è—Ç—å —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</option>
                </optgroup>
                <optgroup label="–ö–∞—Ç–µ–≥–æ—Ä–∏–∏">
                    <option value="add_category">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                    <option value="remove_category">–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                    <option value="replace_categories">–ó–∞–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                </optgroup>
                <optgroup label="–¢–µ–≥–∏">
                    <option value="add_tags">–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥–∏</option>
                    <option value="remove_tags">–£–¥–∞–ª–∏—Ç—å —Ç–µ–≥–∏</option>
                    <option value="replace_tags">–ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–≥–∏</option>
                </optgroup>
                <optgroup label="–î—Ä—É–≥–æ–µ">
                    <option value="reprocess">–ü–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å</option>
                    <option value="delete">–£–¥–∞–ª–∏—Ç—å</option>
                </optgroup>
            </select>
            
            {# –ü–æ–ª–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ #}
            <div x-show="['add_category', 'remove_category', 'replace_categories'].includes(bulkAction)" 
                 x-transition>
                <select name="category_id" class="px-3 py-1.5 text-sm border border-blue-300 rounded bg-white">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é --</option>
                    {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            {# –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Ç–µ–≥–æ–≤ #}
            <div x-show="['add_tags', 'remove_tags', 'replace_tags'].includes(bulkAction)" 
                 x-transition>
                <input type="text" 
                       name="tag_names" 
                       placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–≥–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é"
                       class="px-3 py-1.5 text-sm border border-blue-300 rounded w-64">
            </div>
            
            <button type="submit" class="px-4 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700">
                –ü—Ä–∏–º–µ–Ω–∏—Ç—å
            </button>
            <button type="button" 
                    @click="deselectAll()"
                    class="px-3 py-1.5 text-sm text-blue-600 hover:text-blue-800">
                –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ
            </button>
        </div>
    </div>

    <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
            <tr>
                <th class="px-4 py-3 text-left">
                    <input type="checkbox" 
                           @change="toggleAll($event)"
                           :checked="selectedCount > 0 && selectedCount === document.querySelectorAll('.video-checkbox').length"
                           :indeterminate.prop="selectedCount > 0 && selectedCount < document.querySelectorAll('.video-checkbox').length"
                           class="w-4 h-4 text-blue-600 border-gray-300 rounded">
                </th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-column="poster">–ü–æ—Å—Ç–µ—Ä</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-column="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-column="filesize">–†–∞–∑–º–µ—Ä/–ö–∞—á–µ—Å—Ç–≤–æ</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">–°—Ç–∞—Ç—É—Å</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-column="processing">–û–±—Ä–∞–±–æ—Ç–∫–∞</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-column="impressions">–ü–æ–∫–∞–∑—ã</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-column="views">–ü—Ä–æ—Å–º–æ—Ç—Ä—ã</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-column="ctr">CTR</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase" data-column="date">–î–∞—Ç–∞</th>
                <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
            {% for video in videos %}
            <tr id="video-row-{{ video.id }}" class="hover:bg-gray-50">
                <td class="px-4 py-4 whitespace-nowrap">
                    <input type="checkbox" 
                           name="video_ids[]" 
                           value="{{ video.id }}" 
                           x-model="selectedVideos"
                           class="video-checkbox w-4 h-4 text-blue-600 border-gray-300 rounded">
                </td>
                <td class="px-4 py-4 whitespace-nowrap text-sm">#{{ video.id }}</td>
                <td class="px-4 py-4 whitespace-nowrap" data-column="poster">
                    <div class="relative group">
                        <img src="{{ video_poster(video.poster) }}" alt="" class="w-20 h-12 object-cover rounded">
                        
                        {# Hover preview - –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ—Å—Ç–µ—Ä –µ—Å–ª–∏ –Ω–µ—Ç preview #}
                        <div class="absolute left-0 top-0 z-50 hidden group-hover:block">
                            <div class="relative" style="width: 320px; height: 180px;">
                                {% if video.animatedPreview %}
                                    <img src="/media/{{ video.animatedPreview }}" 
                                         alt="{{ video.title }}" 
                                         class="w-full h-full object-cover rounded-lg shadow-2xl border-2 border-white"
                                         onerror="this.src='{{ video_poster(video.poster) }}'">
                                {% elseif video.preview %}
                                    <img src="/media/{{ video.preview }}" 
                                         alt="{{ video.title }}" 
                                         class="w-full h-full object-cover rounded-lg shadow-2xl border-2 border-white"
                                         onerror="this.src='{{ video_poster(video.poster) }}'">
                                {% else %}
                                    <img src="{{ video_poster(video.poster) }}" 
                                         alt="{{ video.title }}" 
                                         class="w-full h-full object-cover rounded-lg shadow-2xl border-2 border-white">
                                {% endif %}
                                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3 rounded-b-lg">
                                    <div class="text-white text-sm font-medium line-clamp-2">{{ video.title }}</div>
                                    <div class="flex items-center gap-3 mt-1 text-xs text-gray-300">
                                        <span>{{ video.durationFormatted }}</span>
                                        <span>üëÅ {{ video.viewsCount }}</span>
                                        <span>‚ù§Ô∏è {{ video.likesCount }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
                <td class="px-4 py-4">
                    <div class="text-sm font-medium text-gray-900">
                        <a href="{{ path('admin_videos_edit', {id: video.id}) }}">{{ video.title }}</a>
                        {% if video.isFeatured %}
                            <span class="ml-2 px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full">Featured</span>
                        {% endif %}
                    </div>
                    <div class="text-sm text-gray-500">{{ video.durationFormatted }}</div>
                </td>
                <td class="px-4 py-4 whitespace-nowrap text-sm" data-column="category">
                    {{ video.category ? video.category.name : '-' }}
                </td>
                <td class="px-4 py-4 whitespace-nowrap text-sm" data-column="filesize">
                    <div class="flex flex-col gap-1">
                        <span class="text-gray-900">{{ video.fileSizeFormatted }}</span>
                        {% if video.resolution %}
                            <span class="text-xs px-2 py-0.5 bg-gray-100 text-gray-700 rounded inline-block w-fit">{{ video.resolution }}</span>
                        {% endif %}
                    </div>
                </td>
                <td class="px-4 py-4 whitespace-nowrap">
                    {% include 'admin/videos/_status_badge.html.twig' with {video: video} %}
                </td>
                <td class="px-4 py-4 whitespace-nowrap" data-column="processing">
                    <div class="text-xs">
                        <span class="px-2 py-1 rounded
                            {% if video.processingStatus == 'completed' %}bg-green-100 text-green-800
                            {% elseif video.processingStatus == 'processing' %}bg-blue-100 text-blue-800
                            {% elseif video.processingStatus == 'error' %}bg-red-100 text-red-800
                            {% else %}bg-gray-100 text-gray-800{% endif %}">
                            {{ video.processingStatus }}
                        </span>
                        {% if video.processingProgress > 0 %}
                            <div class="mt-1 text-xs text-gray-600">{{ video.processingProgress }}%</div>
                        {% endif %}
                    </div>
                </td>
                <td class="px-4 py-4 whitespace-nowrap text-sm" data-column="impressions">{{ video.impressionsCount }}</td>
                <td class="px-4 py-4 whitespace-nowrap text-sm" data-column="views">{{ video.viewsCount }}</td>
                <td class="px-4 py-4 whitespace-nowrap text-sm" data-column="ctr">
                    <span class="px-2 py-1 text-xs rounded {{ video.ctr >= 10 ? 'bg-green-100 text-green-800' : (video.ctr >= 5 ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800') }}">
                        {{ video.ctr }}%
                    </span>
                </td>
                <td class="px-4 py-4 whitespace-nowrap text-sm" data-column="date">{{ video.createdAt|date('d.m.Y') }}</td>
                <td class="px-4 py-4 whitespace-nowrap text-right text-sm">
                    <div class="flex items-center justify-end gap-2">
                        {# –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞ —Å–∞–π—Ç–µ #}
                        <a href="{{ path('video_detail', {slug: video.slug}) }}" target="_blank" 
                           class="text-blue-600 hover:text-blue-900" title="–ü—Ä–æ—Å–º–æ—Ç—Ä">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                            </svg>
                        </a>
                        
                        {# –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É #}
                        <button type="button"
                                onclick="copyVideoLink('{{ url('video_detail', {slug: video.slug}) }}', this)"
                                class="text-gray-600 hover:text-gray-900" 
                                title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                            </svg>
                        </button>
                        
                        {# Reprocess button - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ—Å–ª–∏ –µ—Å—Ç—å temp_video_file #}
                        {% if video.tempVideoFile %}
                            <button @click="reprocessVideo({{ video.id }})"
                                    type="button"
                                    class="text-purple-600 hover:text-purple-800" title="–ü–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                            </button>
                        {% endif %}
                        
                        {# Quick moderation #}
                        {% if video.status != 'published' %}
                            <button @click="moderateVideo({{ video.id }}, 'publish')"
                                    type="button"
                                    class="text-green-600 hover:text-green-800" title="–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </button>
                        {% endif %}
                        {% if video.status == 'published' %}
                            <button @click="moderateVideo({{ video.id }}, 'unpublish')"
                                    type="button"
                                    class="text-yellow-600 hover:text-yellow-800" title="–°–Ω—è—Ç—å —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"></path>
                                </svg>
                            </button>
                        {% endif %}
                        
                        {# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å #}
                        <a href="{{ path('admin_videos_edit', {id: video.id}) }}" 
                           class="text-indigo-600 hover:text-indigo-900" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                            </svg>
                        </a>
                        
                        {# –ì–ª–∞–≤—ã #}
                        <a href="{{ path('admin_videos_chapters', {id: video.id}) }}" 
                           class="text-purple-600 hover:text-purple-900" title="–ì–ª–∞–≤—ã –≤–∏–¥–µ–æ">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                            </svg>
                        </a>
                        
                        {# –£–¥–∞–ª–∏—Ç—å #}
                        <button @click="deleteVideo({{ video.id }}, '{{ video.title|e('js') }}')"
                                type="button"
                                class="text-red-600 hover:text-red-800" title="–£–¥–∞–ª–∏—Ç—å">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                        </button>
                    </div>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="13" class="px-6 py-8 text-center text-gray-500">–í–∏–¥–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</form>

<style>
/* Hover preview styles */
.group:hover .group-hover\:block {
    animation: fadeIn 0.2s ease-in;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* –£–±–µ–¥–∏–º—Å—è —á—Ç–æ preview –Ω–µ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è */
#videos-table {
    overflow: visible !important;
}

#videos-table table {
    position: relative;
}

#videos-table tbody tr {
    position: relative;
}

/* Line clamp –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
</style>



<script>
/**
 * –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∏–¥–µ–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
 */
function copyVideoLink(url, button) {
    navigator.clipboard.writeText(url)
        .then(() => {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π HTML
            const originalHTML = button.innerHTML;
            const originalClass = button.className;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—à–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
            button.innerHTML = `
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
            `;
            button.className = 'text-green-600 hover:text-green-900';
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                button.innerHTML = originalHTML;
                button.className = originalClass;
            }, 2000);
        })
        .catch(err => {
            console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
            alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É');
        });
}
</script>

{% extends 'base.html' %}
{% load static %}

{% block title %}{{ playlist.name }} - {{ site_settings.site_name }}{% endblock %}
{% block description %}{{ playlist.description|default:playlist.name }}{% endblock %}

{% block content %}
<div class="page-header">
    <div class="playlist-header">
        <h1><i class="fas fa-list"></i> {{ playlist.name }}</h1>
        {% if playlist.description %}
            <p>{{ playlist.description }}</p>
        {% endif %}
        <div class="playlist-meta">
            <span class="playlist-count">{{ playlist.playlistvideo_set.count }} видео</span>
            {% if playlist.is_public %}
                <span class="playlist-public"><i class="fas fa-globe"></i> Публичный</span>
            {% else %}
                <span class="playlist-private"><i class="fas fa-lock"></i> Приватный</span>
            {% endif %}
            <span class="playlist-date">Создан {{ playlist.created_at|date:"d.m.Y" }}</span>
        </div>
    </div>
</div>

{% if playlist.playlistvideo_set.all %}
    <div class="video-grid">
        {% for playlist_video in playlist.playlistvideo_set.all %}
            {% include 'partials/video_card.html' with video=playlist_video.video %}
        {% endfor %}
    </div>
{% else %}
    <div class="empty-state">
        <i class="fas fa-list fa-3x"></i>
        <h2>Плейлист пуст</h2>
        <p>Добавьте видео в этот плейлист</p>
        <a href="{% url 'videos:video_list' %}" class="btn btn-primary">Посмотреть видео</a>
    </div>
{% endif %}
{% endblock %}

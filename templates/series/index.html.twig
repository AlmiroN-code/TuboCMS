{% extends 'base.html.twig' %}

{% set breadcrumbs = [
    {'label': 'breadcrumb.home'|trans, 'url': path('app_home')},
    {'label': 'series.my_series'|trans, 'url': ''}
] %}

{% block title %}{{ 'series.my_series'|trans }} - {{ setting('site_name') }}{% endblock %}

{% block body %}
<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl text-gray-900 dark:text-gray-100">{{ 'series.my_series'|trans }}</h1>
        <a href="{{ path('app_series_create') }}" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md">
            {{ 'series.create'|trans }}
        </a>
    </div>

    {% if series is empty %}
        <div class="text-center py-12">
            <p class="text-gray-400 mb-4">{{ 'series.no_series'|trans }}</p>
        </div>
    {% else %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for s in series %}
                <a href="{{ path('app_series_show', {slug: s.slug}) }}" class="bg-gray-800 rounded-md overflow-hidden hover:bg-gray-700 transition">
                    <div class="aspect-video bg-gray-700 flex items-center justify-center">
                        {% if s.thumbnail %}
                            {{ lazy_img(asset('media/series/' ~ s.thumbnail), s.title, 'w-full h-full object-cover') }}
                        {% else %}
                            <svg class="w-16 h-16 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path>
                            </svg>
                        {% endif %}
                    </div>
                    <div class="p-4">
                        <h3 class="font-semibold text-white">{{ s.title }}</h3>
                        <p class="text-sm text-gray-400">{{ s.videosCount }} {{ 'series.episodes'|trans }}</p>
                    </div>
                </a>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}

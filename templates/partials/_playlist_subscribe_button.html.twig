{% if app.user %}
    <button 
        data-action="toggle-playlist-subscription"
        data-playlist-id="{{ playlist.id }}"
        data-is-subscribed="{{ is_subscribed ? 'true' : 'false' }}"
        class="inline-flex items-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium transition-colors
               {% if is_subscribed %}
                   border-gray-300 text-gray-700 bg-white hover:bg-gray-50
               {% else %}
                   border-transparent text-white bg-blue-600 hover:bg-blue-700
               {% endif %}">
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            {% if is_subscribed %}
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            {% else %}
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            {% endif %}
        </svg>
        <span class="subscription-text">
            {% if is_subscribed %}
                Подписан
            {% else %}
                Подписаться
            {% endif %}
        </span>
    </button>
{% else %}
    <a href="{{ path('app_login') }}" 
       class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors">
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
        </svg>
        Подписаться
    </a>
{% endif %}
